<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>tobigu blog</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/d752374.js" as="script"><link rel="preload" href="/_nuxt/cf78498.js" as="script"><link rel="preload" href="/_nuxt/f25b1f2.js" as="script"><link rel="preload" href="/_nuxt/1ac34a8.js" as="script"><link rel="preload" href="/_nuxt/cab6da9.js" as="script"><style data-vue-ssr-id="382a115c:0 0d8b0c4d:0 a57b151a:0">/*! tailwindcss v2.2.15 | MIT License | https://tailwindcss.com*//*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,::after,::before{box-sizing:border-box}html{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset{margin:0;padding:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}*,::after,::before{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.static{position:static}.m-4{margin:1rem}.m-12{margin:3rem}.mx-auto{margin-left:auto;margin-right:auto}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.mr-4{margin-right:1rem}.flex{display:flex}.table{display:table}.grid{display:grid}.h-6{height:1.5rem}.w-6{width:1.5rem}.max-w-4xl{max-width:56rem}@-webkit-keyframes spin{to{transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}@-webkit-keyframes ping{100%,75%{transform:scale(2);opacity:0}}@keyframes ping{100%,75%{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,100%{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,100%{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}.gap-4{gap:1rem}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.space-y-20>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(5rem * var(--tw-space-y-reverse))}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.border-t-4{border-top-width:4px}.bg-gray-300{--tw-bg-opacity:1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.bg-yellow-300{--tw-bg-opacity:1;background-color:rgba(252,211,77,var(--tw-bg-opacity))}.bg-green-300{--tw-bg-opacity:1;background-color:rgba(110,231,183,var(--tw-bg-opacity))}.bg-blue-300{--tw-bg-opacity:1;background-color:rgba(147,197,253,var(--tw-bg-opacity))}.bg-indigo-300{--tw-bg-opacity:1;background-color:rgba(165,180,252,var(--tw-bg-opacity))}.bg-purple-300{--tw-bg-opacity:1;background-color:rgba(196,181,253,var(--tw-bg-opacity))}.bg-pink-300{--tw-bg-opacity:1;background-color:rgba(249,168,212,var(--tw-bg-opacity))}.fill-current{fill:currentColor}.p-4{padding:1rem}.p-12{padding:3rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-16{padding-top:4rem;padding-bottom:4rem}.text-left{text-align:left}.text-center{text-align:center}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-5xl{font-size:3rem;line-height:1}.font-thin{font-weight:100}.font-medium{font-weight:500}.font-bold{font-weight:700}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}*,::after,::before{--tw-shadow:0 0 #0000}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}*,::after,::before{--tw-ring-inset:var(--tw-empty, );/*!*//*!*/--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}code{background-color:#efefef;color:#333}@media (min-width:768px){.md\:m-12{margin:3rem}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:p-12{padding:3rem}.md\:py-40{padding-top:10rem;padding-bottom:10rem}.md\:text-left{text-align:left}.md\:text-right{text-align:right}.md\:text-base{font-size:1rem;line-height:1.5rem}.md\:text-4xl{font-size:2.25rem;line-height:2.5rem}.md\:font-medium{font-weight:500}}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}</style><link rel="preload" href="/_nuxt/static/1694219497/unpacking-wwdc/state.js" as="script"><link rel="preload" href="/_nuxt/static/1694219497/unpacking-wwdc/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1694219497/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><article class="m-4 md:m-12"><div class="grid md:grid-cols-2 gap-4"><div class="text-left font-medium"><a href>↵ Back</a></div> <div class="text-center md:text-right"><p class="md:font-medium text-sm md:text-base">Published July 26, 2023, last updated July 26, 2023</p></div></div> <header class="p-4 py-16 md:p-12 md:py-40 text-center text-white my-10 space-y-20"><div class="max-w-4xl mx-auto"><h1 class="text-xl md:text-4xl font-thin"></h1></div></header> <!----> <div class="max-w-4xl mx-auto space-y-6 nuxt-content"><h1 id="unpacking-wwdc2023"><a href="#unpacking-wwdc2023" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Unpacking WWDC2023</h1>
<h2 id="structured-logging"><a href="#structured-logging" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Structured Logging</h2>
<p>For a minute this one felt like deja vu because what I got from the announcement and subsequent chatter in the iOS community seemed more about how we can replace print statements with OSLog now. But of course, OSLog has been around a while; since iOS 14/WWDC 2020 in its current Apple unified logging Swift APIs flavour.</p>
<p>What has really been announced is an Xcode feature that takes all that unified logging goodness and uses it as the basis for a really solid debugging tool integrated right into Xcode 15.</p>
<p><strong>stdio is for command line UI. OSLog is for debugging</strong></p>
<p>I think Apple may have taken the opportunity of releasing this new Xcode debugging tool that's going to get a lot of attention from the community to really double down and drive home the message – use <code>OSLog</code>, not <code>print()</code> – and that's where the kind of confusing narrative that we have some new way of logging has come from.</p>
<p>At this point users of CocoaLumberjack like me might be wondering if it is time to move to OSLog and for many the answer might be yes. But I found this great (discussion on a Github issue)[<a href="https://github.com/CocoaLumberjack/CocoaLumberjack/issues/1289" rel="nofollow noopener noreferrer" target="_blank">https://github.com/CocoaLumberjack/CocoaLumberjack/issues/1289</a>] from CocoaLumberjack's repo that highlights some really good reasons why for some the answer might still be and may remain no.</p>
<p>Use cases where you want to collect logs from users or allow users to do something with logs or generally do something more than debug with your logs seems to be something OSLog doesn't lend itself to well but CocoaLumberjack does do this really well.</p>
<p>That being said though, I think the reasons OSLog doesn't do this is by design. Apple's unified logging system has <em>a lot</em> of privacy preserving features built in. And we all know logs are a huge source of data leaks that can leave to privacy and security breaches. If in 2023 you're still saving logs to a text file on the user's device and possibly also sending that somewhere else from there, you might want to evaluate if the risk reward benefit is falling the way you want.</p>
<h3 id="other-things-from-structured-debugging"><a href="#other-things-from-structured-debugging" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Other things from Structured Debugging</h3>
<p><code>dwim-print</code> or 'do what I mean print' that LLDB <code>p</code> is now aliased to <code>dwim-print</code></p>
<p>Some best practice:</p>
<p>create separate log handles for different components of application</p>
<p>Tracing with OSLog</p>
<ul>
<li>Tracing with OSLog -> Instruments</li>
</ul>
<p>Logging Profiling template, OSLog and Sign Posts</p>
<h2 id="swift-macros"><a href="#swift-macros" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Swift Macros</h2>
<p>Code generation. Freestanding and attached. Attached macros is what is powering the new Observable macro that's replacing ObservableObject. And also @Model in Swift data.</p>
<h2 id="swiftdata"><a href="#swiftdata" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>SwiftData</h2>
<p>The next phase of Core Data? At first glance, SwiftData feels really similar to ORMs in backend web frameworks like Doctrine and Hibernate. Use Macros to define entities (or models now I guess?) and their attributes by writing it directly above the class or member declaration.</p>
<p>Compatible with Core Data with some form of migration available for existing Core Data codebases.</p>
<p>This one is really exciting in terms of the simplicity it seems to offer and the better mental mapping to existing ORM type data layers.</p>
<p>Apple says that SwiftData uses the proven storage architecture of Core Data. I think this goes further than just using the underlying SQLite database and my first thought is that the macros are generating code similar to what generating the category/extension based Entities from the Model does in CoreData.</p>
<p>Core Data even with its improvements over the years has always been a steep learning curve, I think having an easier to grok native persistence layer even if it's only a better API into CoreData is going to be a really big thing for the ecosystem overall. At least, if avoiding Core Data is the reason for why so many projects end up shoehorning in a 3rd party database.</p>
<p>That being said</p>
<h2 id="observable"><a href="#observable" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Observable</h2>
<p>Like SwiftData this is another feature bootstapped by Swift Macros. I think this will help to flatten the learning curve for new SwiftUI developers but for existing SwiftUI developers who already know their way around <code>@ObservedObject</code>, <code>@StateObject</code> etc. there is a bit of mental re-mapping to do which I'll summarise.</p>
<h2 id="visionos-spatial-computing-realitykit-reality-composer-pro-arkit"><a href="#visionos-spatial-computing-realitykit-reality-composer-pro-arkit" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>visionOS, Spatial Computing, RealityKit, Reality Composer Pro, ARKit</h2>
<p>The obvious star of the show and I've saved the best for last.</p>
<p>Fomeated Rendering: not rendering the perpipheral vision at as high of a resolution</p>
<h3 id="immersiveness"><a href="#immersiveness" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Immersiveness</h3>
<p>There are 3 levels of immersion, an easy way to think of each is by the amount of Passthrough each offers. Passthrough is the live feed of the user's environment, delivered through the device's outward facing cameras and controlled by the user through the digital crown.</p>
<ul>
<li>
<p>Mixed: Partial Passthrough. Allows placing objects in the user's environment, basically a standard AR experience.</p>
</li>
<li>
<p>Full: No Passthrough. Full 'VR' – though we don't use that word ;) There is no Passthrough so presumably the user cannot control the amount of Passthrough using the digital crown.</p>
</li>
<li>
<p>Progressive: Like full only the user can see their surroundings still. I think this is the example where a user is watching a movie but can still look down to their popcorn.</p>
</li>
</ul>
<p>The Immersive Spaces types are listed <a href="https://developer.apple.com/documentation/swiftui/immersive-spaces/" rel="nofollow noopener noreferrer" target="_blank">here</a> and there's more about them in the <a href="https://developer.apple.com/design/human-interface-guidelines/immersive-experiences#Immersion-and-passthrough" rel="nofollow noopener noreferrer" target="_blank">HIG</a>.</p>
<h3 id="usdz"><a href="#usdz" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>USDZ</h3>
<p><a href="https://www.marxentlabs.com/usdz-files/" rel="nofollow noopener noreferrer" target="_blank">UZDZ details</a></p>
<h3 id="models-for-testing"><a href="#models-for-testing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Models for testing</h3>
<ul>
<li>SketchFab</li>
<li>Blender</li>
</ul></div></article></div></div><script defer src="/_nuxt/static/1694219497/unpacking-wwdc/state.js"></script><script src="/_nuxt/d752374.js" defer></script><script src="/_nuxt/cab6da9.js" defer></script><script src="/_nuxt/cf78498.js" defer></script><script src="/_nuxt/f25b1f2.js" defer></script><script src="/_nuxt/1ac34a8.js" defer></script>
  </body>
</html>

__NUXT_JSONP__("/2025-12-22-collection-filter-serialisation", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az){return {data:[{article:{slug:"2025-12-22-collection-filter-serialisation",title:"Be careful returning serialized responses from arrays and Collections directly",bg:"bg-rose-600",decoration:"decoration-rose-600",archived:false,createdAt:af,updatedAt:af,toc:[],body:{type:"root",children:[{type:b,tag:u,props:{},children:[{type:a,value:"I hit a weird error in a private api I expose for some client apps recently. I added some domain logic to filter a collection of a Doctrine relation from an Entity that is exposed to the api and therefore serialised before being returned in a response."}]},{type:a,value:i},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,T]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,"doc-comment",ag]},children:[{type:a,value:"\u002F**\n * "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"@return"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ah}]},{type:a,value:"\u003Cint, Thinglet\u003E\n *\u002F"}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"function-definition",n]},children:[{type:a,value:"getThinglets"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p,"return-type"]},children:[{type:a,value:ah}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:N}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"this",k]},children:[{type:a,value:"$this"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"thinglets"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p,W]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:N}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"isGood"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"Essentially my response went from:"}]},{type:a,value:i},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,aj]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,al]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:H}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ao}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"To:"}]},{type:a,value:i},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,aj]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"0\""}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,al]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:H}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ao}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"Which just isn't what the downstream client was expecting at all. Of course, it only happened some of the time. Which is when the above "},{type:b,tag:z,props:{},children:[{type:a,value:"getThinglets()"}]},{type:a,value:" method had filtered out results, and those results were from anywhere but the very end of the collection."}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"Long story short, it came down to a kind of esoteric functioning of "},{type:b,tag:z,props:{},children:[{type:a,value:X}]},{type:a,value:" with matching behaviour in the Symfony Serializer component:"}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:b,tag:"em",props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"When encoding an array, if the keys are not a continuous numeric sequence starting from 0, all keys are encoded as strings, and specified explicitly for each key-value pair."}]}]}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"So once a Thinglet got filtered out of the array, it was no longer sequential, and the keys get added back in as strings, which gives the above unexpected data structure with the string encoded key mapping to the object we want."}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"The below is some code I knocked together to reproduce the issue."}]},{type:a,value:i},{type:b,tag:J,props:{className:[K]},children:[{type:b,tag:L,props:{className:[M,T]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,"php",T]},children:[{type:b,tag:c,props:{className:[d,"delimiter","important"]},children:[{type:a,value:"\u003C?php"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"require"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:"__DIR__"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E,Z]},children:[{type:a,value:"'\u002Fvendor\u002Fautoload.php'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:"Doctrine"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"Common"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"Collections"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"Encoder"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"Normalizer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:Q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:at}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:au}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"class"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"class-name-definition",p]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ai}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E,"double-quoted-string"]},children:[{type:a,value:"\"anything\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ag]},children:[{type:a,value:"\u002F\u002F this can't come last, if it does, the array will still be sequential"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E,Z]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p,W]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:N}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ay}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p,W]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:N}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ay}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,E,Z]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:i}]}]}]}]},{type:a,value:i},{type:b,tag:u,props:{},children:[{type:a,value:"The fix in short is to use "},{type:b,tag:z,props:{},children:[{type:a,value:"array_values"}]},{type:a,value:" to strip the string encoded keys back out from the response. The longer fix, or one of them, is to create DTOs for API endpoints and map all data onto that DTO to respond."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002F2025-12-22-collection-filter-serialisation",extension:".md"}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation"," ","(",")","\n","operator","keyword","variable",";","function","-\u003E","class-name","\\","$collection","Thinglet","new","p","property","{","}","\n\n","code","\n    ","$thinglet","=",":","string","add","\n        ",",","Serializer","div","nuxt-content-highlight","pre","line-numbers","return","[","]","use","package","print","language-php","\n ","filter","type-declaration","json_encode","constant","single-quoted-string","Symfony","Component","$serializer","$differentThinglet","thinglet","toArray","$anotherCollection","2025-12-22T00:00:00.000Z","comment","Collection","public","language-json","\"id\"","number","123","\"value\"","\"one two three\"","\n            ","ArrayCollection","JsonEncoder","ObjectNormalizer","$encoders","$normalizers","print_r","serialize","'json'","===","null")));